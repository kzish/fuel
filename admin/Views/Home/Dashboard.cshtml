@{
    Layout = "~/Views/Shared/_LayoutMain.cshtml";
}

@*chart*@
<link href="/libs/chart_js/Chart.min.css" rel="stylesheet" />
<script src="/libs/chart_js/Chart.min.js"></script>

<style>
    .top {
        box-shadow: 0px 0px 5px #808080;
    }
</style>
<div class="container">

    <div class="top" style="height:50vh;">
        <div id="map" style="height:100%;width:100%;"></div>
    </div>
    <br />

    <div class="bottom" style="height:40vh;">
        <div class="row">

            <div class="col-md-3">
                <div class="card text-white bg-danger mb-3">
                    <div class="card-header">Orders</div>
                    <div class="card-body">

                        @*petrol*@
                        <div class="row">
                            <div class="col-md-12">
                                Petrol
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-12">
                                <table style="width:100%!important;">
                                    <tr>
                                        <td>Orders</td>
                                        <td>@ViewBag.pending_petrol_orders</td>
                                    </tr>
                                    <tr>
                                        <td>Delivered</td>
                                        <td>@ViewBag.delivered_petrol_orders</td>
                                    </tr>
                                </table>
                            </div>
                        </div>

                        <hr />

                        @*diesel*@
                        <div class="row">
                            <div class="col-md-12">
                                Diesel
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-12">
                                <table style="width:100%!important;">
                                    <tr>
                                        <td>Orders</td>
                                        <td>@ViewBag.pending_diesel_orders</td>
                                    </tr>
                                    <tr>
                                        <td>Delivered</td>
                                        <td>@ViewBag.delivered_diesel_orders</td>
                                    </tr>
                                </table>
                            </div>
                        </div>


                        <hr />

                        @*Gas*@
                        <div class="row">
                            <div class="col-md-12">
                                Gas
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-12">
                                <table style="width:100%!important;">
                                    <tr>
                                        <td>Orders</td>
                                        <td>@ViewBag.pending_gas_orders</td>
                                    </tr>
                                    <tr>
                                        <td>Delivered</td>
                                        <td>@ViewBag.delivered_gas_orders</td>
                                    </tr>
                                </table>
                            </div>
                        </div>


                    </div>
                </div>
            </div>

            <div class="col-md-3">
                <div class="card text-white bg-info mb-3">
                    <div class="card-header">SubScribers</div>
                    <div class="card-body">
                        @*petrol*@
                        <div class="row">
                            <div class="col-md-12">
                                Petrol
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-12">
                                <table style="width:100%!important;">
                                    <tr>
                                        <td>Enque</td>
                                        <td>@ViewBag.pending_petrol_subs</td>
                                    </tr>
                                    <tr>
                                        <td>Deque</td>
                                        <td>@ViewBag.delivered_petrol_subs</td>
                                    </tr>
                                </table>
                            </div>
                        </div>

                        <hr />

                        @*diesel*@
                        <div class="row">
                            <div class="col-md-12">
                                Diesel
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-12">
                                <table style="width:100%!important;">
                                    <tr>
                                        <td>Enque</td>
                                        <td>@ViewBag.pending_diesel_subs</td>
                                    </tr>
                                    <tr>
                                        <td>Deque</td>
                                        <td>@ViewBag.delivered_diesel_subs</td>
                                    </tr>
                                </table>
                            </div>
                        </div>


                        <hr />

                        @*Gas*@
                        <div class="row">
                            <div class="col-md-12">
                                Gas
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-12">
                                <table style="width:100%!important;">
                                    <tr>
                                        <td>Enque</td>
                                        <td>@ViewBag.pending_gas_subs</td>
                                    </tr>
                                    <tr>
                                        <td>Deque</td>
                                        <td>@ViewBag.delivered_gas_subs</td>
                                    </tr>
                                </table>
                            </div>
                        </div>

                        </table>
                    </div>
                </div>
            </div>

           @* <div class="col-md-3">
                <div class="card text-white bg-warning mb-3">
                    <div class="card-header">Billing</div>
                    <div class="card-body" style="color:white!important;">

                        <div id="canvas-holder" style="width:100%;height:100%;">
                            <canvas id="ctx" style="width:100%;height:100%;"></canvas>
                        </div>


                    </div>
                </div>
            </div>

            <div class="col-md-3">
                <div class="card text-white bg-primary mb-3">
                    <div class="card-header">Information</div>
                    <div class="card-body">
                        <p class="card-text" style="color:white!important;">
                            Rubiem innovation in conjunction with harare city council monitors the billboards and
                            allows you to manage your assets
                        </p>
                    </div>
                </div>
            </div>*@

        </div>
    </div>
</div>


<script>
    function initMap() {
        //lat long for harare cbd
        var myLatLng = { lat: -17.8277206, lng: 31.0533695 };

        var map = new google.maps.Map(document.getElementById('map'), {
            zoom: 14,
            center: myLatLng
        });
        var infowindow = new google.maps.InfoWindow(); /* SINGLE */

    }

</script>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBQrtU5y53d68uzWEsykk62vhtd2UDwTZY&callback=initMap"
        async defer></script>

@*graph*@
<script>

    window.chartColors = {
        red: 'rgba(255,0, 0,1)',
        orange: 'rgba(255, 159, 64,1)',
        yellow: 'rgba(255, 205, 86,1)',
        green: 'rgba(75, 192, 192,1)',
        blue: 'rgba(0, 0, 255,1)',
        purple: 'rgba(153, 102, 255,1)',
        black: 'rgba(0, 0, 0,1)'
    };

    var balance_color = window.chartColors.blue;
    var used_color = window.chartColors.black;
    if (@ViewBag.total_balance< 0) {
         balance_color = window.chartColors.red;
    }

    var data = {
        datasets: [{
            data: [@ViewBag.total_balance, @ViewBag.total_used],
            backgroundColor: [
                balance_color,
                used_color
            ]
        }],
        labels: [
            'Balance',
            'Used',
        ],

    };
    var ctx = $("#ctx");
    // And for a doughnut chart
    var myDoughnutChart = new Chart(ctx, {
        type: 'doughnut',
        data: data,
        //options: options
    });
</script>
